
static int phase_1(dScnPly_c* param_0) {
	let r0;

	if (param_0 == NULL) {
		// APPLE:
		r0 = -1
	} else {
		r0 = load word at offset 4 of param_0;
	}

	// BANANA:
	store r0, mProcID ...
	setStartStage(g_dComIfG_gameInfo, otherThing);

	r0 = load byte from g_dComIfG_gameInfo
	extsb. r0, r0

	if (r0 < 0) {
		r3 = checkRoomRestartStart();
		r0 = clrlwi. r0, r3, 0x18 (clears bits?)
		if (r0 != 0) {
			r3 = pointer to something in g_dComIfG_gameInfo;
			r0 = byte from g_dComIfG_gameInfo
			r4 = extsb r0;
			r0 = byte from g_dComIfG_gameInfo
			r5 = extsb r0;
			r3 = getLayerNo_common_common(r3, r4, r5);
			if (r0 != 0) {
				// copy byte from somewhere in
				// g_dComIfG_gameInfo to elsewhere in it
			}
		}
	}

	// CHOCOLATE:
	r0 = 0;
	store 0 somewhere in g_dComIfG_gameInfo;

	r29 = somewhere in g_dComIfG_gameInfo;

	// These say you completed sections where you were forced into Wolf form.
	if (!strcmp(gl_stageName, "F_SP108")
		&& gl_roomNo == 1 && gl_mPoint == 3) {

		// Faron Woods - Faron Spring
		dSv_player_status_b_c::onDarkClearLV
			(&d_com_inf_game::g_dComIfG_gameInfo.save.save_file.player.player_status_b,
			0);
    d_item::execItemGet(WEAR_KOKIRI);

	}
	// DREAMING:
	else if (!strcmp(gl_stageName, "F_SP109")
		&& gl_roomNo == 0 && gl_mPoint == 0x1e) {

			// Kakariko Village
      dSv_player_status_b_c::onDarkClearLV
				(&d_com_inf_game::g_dComIfG_gameInfo.save.save_file.player.player_status_b,
				1);

	}
	// ELEPHANT:
	else if (!strcmp(gl_stageName, "F_SP115")
		&& gl_roomNo == 1 && gl_mPoint == 0x14) {

			// Lake Hylia - Lanayru Spring
			dSv_player_status_b_c::onDarkClearLV
				(&d_com_inf_game::g_dComIfG_gameInfo.save.save_file.player.player_status_b,
				2);

	}
	// FLAMINGO:
	else if (!strcmp(gl_stageName, "F_SP117")
		&& gl_roomNo == 1 && gl_mPoint == 99) {

			// Sacred Grove - Pedestal of Time
			dSv_player_status_b_c::onDarkClearLV
				(&d_com_inf_game::g_dComIfG_gameInfo.save.save_file.player.player_status_b,
				3);

	}

	// GRANDMOTHER_LABEL:
	if (!strcmp(gl_stageName, "F_SP104")
		&& gl_roomNo == 1 && gl_mPoint == 0x17
		&& gl_mLayer == 0xc) {

		// Ordon Spring
		// During Ilia cutscene? Gives Horse Call
		dSv_player_get_item_c::onFirstBit
			(&d_com_inf_game::g_dComIfG_gameInfo.save.save_file.player.player_get_item,
			0x84);
    dSv_player_item_c::setItem
			(&d_com_inf_game::g_dComIfG_gameInfo.save.save_file.player.player_item,SLOT_21,
				HORSE_FLUTE);

	}

	// HAPPINESS_LABEL:
	r3 = d_kankyo::dKy_darkworld_stage_check(
		gl_stageName, gl_roomNo);

	if (r3 == 1) {
		d_com_inf_game::dComIfGp_world_dark_set(1);
	} else {
		// IGUANA_LABEL:
		if (dKy_darkworld_spot_check(gl_stageName,
			gl_roomNo) == 1) {

			d_com_inf_game::dComIfGp_world_dark_set(2);

		} else {
			// JUMPING_LABEL:
			d_com_inf_game::dComIfGp_world_dark_set(0);
		}
	}

	// KILLER_LABEL:
	if (!strcmp(gl_stageName, "F_SP115")
		&& gl_roomNo == 1 && gl_mLayer < 0
		&& dComIfG_play_c::getLayerNo_common(
			gl_stageName, 1, gl_mLayer
		) == 9) {

			// Lake Hylia - Lanayru Spring
			gl_mLayer = 9;

		}

	// LOLLIPOP_LABEL:
	if (
		(!strcmp(gl_stageName, "F_SP108") // LOLLIPOP
		&& gl_roomNo == 0 && gl_mLayer == 7) || // Faron Woods - South Entrance
		(!strcmp(gl_stageName, "D_SB10") // MANIFOLD
		&& dComIfG_play_c::getLayerNo(0) == 0xe) || // Faron Woods Cave
		(!strcmp(gl_stageName, "F_SP109) // NOBODY_LABEL
		&& gl_roomNo == 0 && gl_mLayer == 8) || // Kakariko Village
		(!strcmp(gl_stageName, "F_SP115") // OBVIOUS_LABEL
		&& gl_roomNo == 1 && gl_mLayer == 8) || // Lake Hylia - Lanayru Spring
		(!strcmp(gl_stageName, "F_SP115") // PERIWINKLE_LABEL
		&& gl_roomNo == 1 && gl_mLayer == 9) // Lake Hylia - Lanayru Spring
		) {

		// QUOTIENT_LABEL:
		d_com_inf_game::dComIfGp_world_dark_set(1);	

	}

	// REVOLUTION_LABEL:
	if (!strcmp(gl_stageName, "D_MN08D")
		&& gl_roomNo == 50 && gl_mPoint == 0x14) {

		// Palace of Twilight Boss - Throne Room (Battle Start)
		dSv_danBit_c::onSwitch(
			&d_com_inf_game::g_dComIfG_gameInfo.save.dungeon_bit,
			0x1e);

	}

	// SOMEWHAT_LABEL:

	d_kankyo::dKy_darkworld_Area_set(
		gl_stageName, gl_roomNo);

	// Parts where game forces you into wolf
	if (!strcmp(gl_stageName, "R_SP107") &&
			gl_roomNo == 0 &&
			(gl_mPoint == 0x18 || gl_mPoint == 0)) {
		// Why 2 points?

		// TURTLE_LABEL

		// Twilight Hyrule Castle - Prison Cell
		dSv_player_status_b_c::onTransformLV
			(&d_com_inf_game::g_dComIfG_gameInfo.save.save_file.player.player_status_b,
			0);

	}
	// UMBRELLA_LABEL
	else if (!strcmp(gl_stageName, "F_SP121")
		&& gl_roomNo == 2 && gl_mPoint == 10) {

		// Hyrule Field - Eldin Entrance
    dSv_player_status_b_c::onTransformLV
			(&d_com_inf_game::g_dComIfG_gameInfo.save.save_file.player.player_status_b,
			1);
	}
	// VOLUME_LABEL
	else if (!strcmp(gl_stageName, "F_SP121")
		&& gl_roomNo == 9 && gl_mPoint == 10) {

		// Hyrule Field - Lanayru Entrance
    dSv_player_status_b_c::onTransformLV
			(&d_com_inf_game::g_dComIfG_gameInfo.save.save_file.player.player_status_b,
			2);
	}
	// WONDERFUL_LABEL
	else if (!strcmp(gl_stageName, "F_SP121)
		&& gl_roomNo == 10 &&
		(gl_mPoint == 0x17 || gl_mPoint == 0x14)) {
		// XYLOPHONE_LABEL

		// Lanayru Main Field
    dSv_player_status_b_c::onTransformLV
			(&d_com_inf_game::g_dComIfG_gameInfo.save.save_file.player.player_status_b,
			3);
	}

	// YELLOW_LABEL
	if (!strcmp(gl_stageName, "F_SP127")
		&& gl_roomNo == 0 && gl_mPoint == 2) {

		// Fishing Pond
		// Changes to the next season.
		g_env_light.field_0x12fe = g_env_light.field_0x12fe + 1;
		if (g_env_light.field_0x12fe > 4) {
			g_env_light.field_0x12fe = 1;
		}
	}

	// ZOMBIE_LABEL
	d_com_inf_game::dComIfGs_BossLife_public_Set(0xff);
	d_kankyo::g_env_light.field_0x1308 = 0;

	JUtility::JUTReportConsole_f(
		"Start StageName:RoomNo [%s:%d]\n",
		// 0x8040afc0,
		gl_stageName, // instead of 8040afc0?
		gl_roomNo
	);

	// ???
	d_com_inf_game::g_dComIfG_gameInfo.play._19982_2_ = 0;

  iVar1 = dRes_control_c::syncRes("Stg_00",&d_com_inf_game::g_dComIfG_gameInfo.res2,0x40);
  if (iVar1 < 0) {
		dRes_control_c::setStageRes(
			(dRes_control_c *)
				&d_com_inf_game::g_dComIfG_gameInfo.res1,
			"Stg_00",
			(JKRHeap *)0x0);
	}

	// FINISH_FUNCTION
	return 2;

}
